---
layout: default
title: "Request & Response"
---

<h1 id="request-and-response">Request and Response</h1>
<p>In Xyra, each route handler receives <code>Request</code> and <code>Response</code> objects to handle incoming data and send responses.</p>

<h2 id="the-request-object">The Request Object</h2>
<p>The <code>Request</code> object provides information about the incoming HTTP request.</p>

<h3 id="request-attributes">Request Attributes</h3>
<ul>
    <li><code>params</code>: A dictionary of route parameters.</li>
    <li><code>query</code>: A dictionary of query parameters.</li>
    <li><code>headers</code>: A dictionary of request headers.</li>
    <li><code>method</code>: The HTTP method of the request.</li>
    <li><code>url</code>: The URL of the request.</li>
</ul>

<h3 id="request-methods">Request Methods</h3>
<ul>
    <li><code>json()</code>: Asynchronously reads the request body as JSON.</li>
    <li><code>form()</code>: Asynchronously reads form data from the request body.</li>
</ul>
<pre><code class="language-python">
import asyncio
from xyra import App, Request, Response

app = App()

@app.post("/submit")
async def submit(req: Request, res: Response):
    data = await req.json()
    res.json({"received": data})
</code></pre>

<h2 id="the-response-object">The Response Object</h2>
<p>The <code>Response</code> object is used to send a response back to the client.</p>

<h3 id="sending-responses">Sending Responses</h3>
<ul>
    <li><code>res.text(content)</code>: Sends a plain text response.</li>
    <li><code>res.json(data)</code>: Sends a JSON response.</li>
    <li><code>res.html(content)</code>: Sends an HTML response.</li>
    <li><code>res.render(template_name, **context)</code>: Renders an HTML template.</li>
</ul>
<pre><code class="language-python">
@app.get("/")
def home(req: Request, res: Response):
    res.json({"message": "Hello, World!"})
</code></pre>

<h3 id="setting-status-and-headers">Setting Status and Headers</h3>
<p>You can set the HTTP status code and response headers using the <code>status()</code> and <code>header()</code> methods.</p>
<pre><code class="language-python">
@app.post("/create")
def create(req: Request, res: Response):
    res.status(201)
    res.header("X-Custom-Header", "MyValue")
    res.json({"message": "Created"})
</code></pre>

<h3 id="redirects">Redirects</h3>
<p>To redirect the client to a different URL, use the <code>redirect()</code> method.</p>
<pre><code class="language-python">
@app.get("/old-path")
def old_path(req: Request, res: Response):
    res.redirect("/new-path")
</code></pre>